<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¨ç§€å½±åŸç·šä¸Šè¨‚ç¥¨ç³»çµ±</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        // Tailwind é…ç½®ï¼Œç¢ºä¿é¡è‰²å’Œå­—é«”èˆ‡å°ˆæ¡ˆä¸€è‡´
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // å¨ç§€ä¸»é¡Œè‰²ï¼šç´…è‰²å’Œé‡‘è‰²
                        'vieshow-red': '#e50914',
                        'vieshow-gold': '#f7a83d',
                    },
                    fontFamily: {
                        // ä½¿ç”¨ Inter å’Œ Noto Sans TC ç¢ºä¿ä¸­è‹±æ–‡å­—é«”é¡¯ç¤ºæ­£å¸¸
                        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style>
        /* è‡ªå®šç¾©æ¨£å¼ï¼šå°ˆç”¨æ–¼é›»å½±å¡ç‰‡çš„éæ¸¡å’Œä½ˆå±€ */
        .movie-poster-card {
            /* åŸºç¤å¡ç‰‡æ¨£å¼èˆ‡é™°å½±æ•ˆæœ (å¾ Tailwind å¯«æ³•è½‰æ›) */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            cursor: pointer;
            overflow: hidden;
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px rgba(0,0,0,0.08);
            border: 1px solid #f3f4f6; /* gray-100 */
        }
        .movie-poster-card:hover {
            /* æ‡¸åœæ•ˆæœï¼šè¼•å¾®ä¸Šç§» */
            transform: translateY(-5px);
        }
        .poster-container {
            /* æ¨¡æ“¬æ¨™æº–é›»å½±æµ·å ±æ¯”ä¾‹ 2:3ï¼Œç¢ºä¿éŸ¿æ‡‰å¼è¨­è¨ˆ */
            aspect-ratio: 2 / 3; 
            overflow: hidden;
        }
        .poster-container img {
            /* åœ–ç‰‡ä¼¸ç¸®æ•ˆæœ */
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        .movie-poster-card:hover img {
            /* æ‡¸åœæ™‚æ”¾å¤§åœ–ç‰‡ï¼Œå¢åŠ äº’å‹•æ„Ÿ */
            transform: scale(1.05);
        }

        /* æŸ¥è©¢è¡¨å–®å…ƒä»¶æ¨£å¼ (éŸ¿æ‡‰å¼èª¿æ•´) */
        .search-input {
            /* è¼¸å…¥æ¡†/é¸æ“‡æ¡†çš„ä¸€è‡´é¢¨æ ¼ (å¾ Tailwind å¯«æ³•è½‰æ›) */
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.75rem;
            background-clip: padding-box;
        }
        @media (min-width: 640px) {
            .search-input.sm-auto { width: auto; }
        }
        .search-input:focus {
            outline: none;
            box-shadow: 0 0 0 4px rgba(229,9,20,0.06);
            border-color: #e50914; /* vieshow-red */
        }
        
        /* é€šç”¨å…§å®¹å¡ç‰‡æ¨£å¼ */
        .content-card {
            transition: transform 0.2s;
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.06);
            border-top: 4px solid rgba(247,168,61,0.15); /* vieshow-gold subtle */
        }
        .content-card:hover {
            transform: translateY(-3px);
            border-top-color: #e50914; /* vieshow-red on hover */
            box-shadow: 0 16px 32px rgba(0,0,0,0.08);
        }
        
        /* é¤é»å¡ç‰‡å°ˆç”¨æ¨£å¼ */
        .food-card {
            background-color: #ffffff;
            padding: 1.25rem;
            border-radius: 0.75rem;
            box-shadow: 0 6px 12px rgba(0,0,0,0.06);
            border-bottom: 4px solid #e50914;
            transition: box-shadow 0.3s, transform 0.15s;
        }
        .food-card:hover { box-shadow: 0 10px 24px rgba(0,0,0,0.08); }
    </style>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex flex-col">

    <header class="bg-gray-800 text-white shadow-md">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="./index.html" class="text-xl font-bold hover:text-vieshow-red transition duration-300">Vieshow å½±åŸ</a>
            <div id="headerNavRight" class="space-x-4">
                </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 py-8 flex-grow">

        <div id="heroSection" class="text-center mb-12 bg-white p-8 rounded-xl shadow-xl">
            </div>

        <div class="bg-white p-6 rounded-xl shadow-lg mb-10 border-t-4 border-vieshow-gold">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">âœ¨ å¿«æœ</h3>
            <form id="showtime-search-form" action="pages/movie/showtimes_result.html" method="GET" 
                    class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
                
                <select name="location" id="location-select" class="search-input bg-white">
                    <option value="">è«‹é¸æ“‡å½±åŸ (é¸å¡«)</option>
                    <option value="taipei">å°åŒ—ä¿¡ç¾©</option>
                    <option value="taichung">å°ä¸­å¤§é ç™¾</option>
                    <option value="kaohsiung">é«˜é›„å¤§é ç™¾</option>
                </select>
                
                <input type="date" name="date" class="search-input" value="">
                
                <select name="movie" id="movie-select" class="search-input bg-white">
                    <option value="">è«‹é¸æ“‡é›»å½± (é¸å¡«)</option>
                </select>

                <button type="submit" 
                        class="w-full md:w-auto bg-gray-800 hover:bg-vieshow-red text-white font-semibold py-3 px-6 rounded-xl transition duration-300 shadow-md">
                    æŸ¥è©¢å ´æ¬¡
                </button>
            </form>
        </div>
        
        <div class="mb-12">
            <h3 class="text-3xl font-extrabold text-gray-900 mb-6 border-l-4 border-vieshow-red pl-4">
                ğŸ”¥ ç†±å”®ä¸­
            </h3>
            <div id="nowPlayingContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
                </div>
        </div>

        <div class="mb-12">
            <h3 class="text-3xl font-extrabold text-gray-900 mb-6 border-l-4 border-vieshow-gold pl-4">
                ğŸ“… å³å°‡ä¸Šæ˜ 
            </h3>
            <div id="comingSoonContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
                </div>
        </div>
        
        <div class="mb-12">
            <h3 class="text-3xl font-extrabold text-gray-900 mb-6 border-l-4 border-vieshow-gold pl-4">
                ğŸ“ å½±åŸè³‡è¨Š
            </h3>
            <div id="cinemaInfo" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <div class="content-card">
                    <h4 class="text-xl font-bold text-gray-800 mb-2">å°åŒ—ä¿¡ç¾©</h4>
                    <p class="text-gray-600 mb-2">
                        åœ°å€ï¼šå°åŒ—å¸‚ä¿¡ç¾©å€æ¾å£½è·¯20è™Ÿ (A17)
                    </p>
                    <p class="text-gray-600 font-semibold">
                        å°ˆç·šï¼š<span class="text-vieshow-red"> (02) 8780-5566</span>
                    </p>
                </div>
                
                <div class="content-card">
                    <h4 class="text-xl font-bold text-gray-800 mb-2">å°ä¸­å¤§é ç™¾</h4>
                    <p class="text-gray-600 mb-2">
                        åœ°å€ï¼šå°ä¸­å¸‚è¥¿å±¯å€å°ç£å¤§é“ä¸‰æ®µ251è™Ÿ
                    </p>
                    <p class="text-gray-600 font-semibold">
                        å°ˆç·šï¼š<span class="text-vieshow-red"> (04) 3702-0388</span>
                    </p>
                </div>
                
                <div class="content-card">
                    <h4 class="text-xl font-bold text-gray-800 mb-2">é«˜é›„å¤§é ç™¾</h4>
                    <p class="text-gray-600 mb-2">
                        åœ°å€ï¼šé«˜é›„å¸‚è‹“é›…å€ä¸‰å¤šå››è·¯21è™Ÿ
                    </p>
                    <p class="text-gray-600 font-semibold">
                        å°ˆç·šï¼š<span class="text-vieshow-red"> (07) 334-0377</span>
                    </p>
                </div>

            </div>
        </div>

        <div class="mb-8">
            <h3 class="text-3xl font-extrabold text-gray-900 mb-6 border-l-4 border-vieshow-red pl-4">
                ğŸ¿ é¤é»è³‡è¨Š
            </h3>
            <div id="foodInfo" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <div class="food-card">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="text-xl font-extrabold text-vieshow-red">ç¶“å…¸çˆ†ç±³èŠ±å¥—é¤</h4>
                        <span class="text-2xl font-extrabold text-gray-800">TWD 150</span>
                    </div>
                    <ul class="list-disc list-inside text-gray-700 ml-2 space-y-1">
                        <li>Mçˆ†ç±³èŠ± x1</li>
                        <li>ä¸­å¯æ¨‚ x1</li>
                    </ul>
                </div>

                <div class="food-card">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="text-xl font-extrabold text-vieshow-red">é›™äººè±ªè¯å¥—é¤</h4>
                        <span class="text-2xl font-extrabold text-gray-800">TWD 300</span>
                    </div>
                    <ul class="list-disc list-inside text-gray-700 ml-2 space-y-1">
                        <li>Lçˆ†ç±³èŠ± x1</li>
                        <li>å¤§å¯æ¨‚ x2</li>
                        <li>ç†±ç‹— x1</li>
                    </ul>
                </div>

                <div class="food-card">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="text-xl font-extrabold text-vieshow-red">å–®äººé£²å“åŠ è³¼</h4>
                        <span class="text-2xl font-extrabold text-gray-800">TWD 80</span>
                    </div>
                    <ul class="list-disc list-inside text-gray-700 ml-2 space-y-1">
                        <li>å¤§æ¯å¯æ¨‚ x1</li>
                        <li>*(åƒ…é™æ­é…ç¥¨åˆ¸åŠ è³¼)*</li>
                    </ul>
                </div>

            </div>
        </div>


    </main>

    <footer class="bg-gray-800 text-white text-center py-4 mt-8 shadow-inner">
        <p>&copy; 2025 Vieshow Ticketing System</p>
    </footer>

    <script>
        // æ¨¡æ“¬é›»å½±åˆ—è¡¨è³‡æ–™
        const mockMovieList = [
            { id: 'G001', name: "æ˜Ÿéš›ç‰¹æ”»éšŠï¼šç„¡é™æˆ°çˆ­", releaseDate: "2025/11/25", rating: 4.2, posterUrl: "https://placehold.co/400x600/1e293b/ffffff?text=Guardians+of+Galaxy+5" },
            { id: 'D002', name: "å¤¢æƒ³å•Ÿå‹•ï¼šäººå·¥æ™ºæ…§æ™‚ä»£", releaseDate: "2025/11/20", rating: 3.8, posterUrl: "https://placehold.co/400x600/f59e0b/000000?text=AI+Dream+Starter" },
            { id: 'H003', name: "æ¥µé€Ÿç‹‚é£†ï¼šåˆå¤œå°æ±º", releaseDate: "2025/12/15", rating: 4.5, posterUrl: "https://placehold.co/400x600/ef4444/ffffff?text=Midnight+Race" },
            { id: 'C004', name: "è²“å’ªåµæ¢èˆ‡å¤±è¹¤çš„é‘½çŸ³", releaseDate: "2025/12/05", rating: 3.9, posterUrl: "https://placehold.co/400x600/10b981/ffffff?text=Cat+Detective" },
            { id: 'F005', name: "å¤±è½çš„å¤æ–‡æ˜", releaseDate: "2025/11/10", rating: 4.0, posterUrl: "https://placehold.co/400x600/3b82f6/ffffff?text=Lost+Civilization" },
            { id: 'J006', name: "å»šç¥çˆ­éœ¸æˆ°", releaseDate: "2025/12/24", rating: 4.7, posterUrl: "https://placehold.co/400x600/f97316/ffffff?text=Master+Chef+Battle" },
        ];

        const LOGIN_PAGE_URL = './pages/auth/login.html';
        const MEMBER_HOME_URL = './pages/member/member_home.html';
        const REGISTER_PAGE_URL = './pages/auth/register.html';

        /**
         * æ¸²æŸ“æœªç™»å…¥ç‹€æ…‹çš„å°è¦½åˆ—å’Œè‹±é›„å€ã€‚
         */
        function renderLoggedOutState() {
            const headerNavRight = document.getElementById('headerNavRight');
            const heroSection = document.getElementById('heroSection');

            // 1. æ¸²æŸ“å°è¦½åˆ—ï¼šç™»å…¥ + æœƒå“¡ä¸­å¿ƒ
            headerNavRight.innerHTML = `
                <a href="${LOGIN_PAGE_URL}" class="hover:text-vieshow-gold transition duration-300">ç™»å…¥</a>
                <a href="${MEMBER_HOME_URL}" class="hover:text-vieshow-gold transition duration-300">æœƒå“¡ä¸­å¿ƒ</a>
            `;

            // 2. æ¸²æŸ“è‹±é›„å€ï¼šæ­¡è¿ + è¨»å†ŠæŒ‰éˆ•
            heroSection.innerHTML = `
                <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 mb-2">
                    ğŸ¬ Vieshow ç·šä¸Šè¨‚ç¥¨ç³»çµ±
                </h1>
                <p class="text-lg text-gray-600 mb-6">æ­¡è¿ï¼æœ€æ–°çš„ç†±é–€é›»å½±æ­£åœ¨ç†±æ˜ ä¸­ï¼Œç«‹å³è¨‚ç¥¨äº«å„ªæƒ ã€‚</p>
                
                <a href="${REGISTER_PAGE_URL}" 
                    class="inline-flex items-center justify-center bg-vieshow-red hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition duration-300 shadow-xl transform hover:scale-105 hover:shadow-vieshow-red/50">
                    <span class="mr-2">ğŸ‘¤</span> è¨»å†Š
                </a>
            `;
        }

        /**
         * æ¸²æŸ“å·²ç™»å…¥ç‹€æ…‹çš„å°è¦½åˆ—å’Œè‹±é›„å€ã€‚
         */
        function renderLoggedInState() {
            const headerNavRight = document.getElementById('headerNavRight');
            const heroSection = document.getElementById('heroSection');
            
            // ... ç™»å…¥é€£çµæ§‹é€ é‚è¼¯ (é€™æ®µå…¶å¯¦åœ¨ç™»å…¥ç‹€æ…‹ä¸‹ä¸éœ€è¦ï¼Œä½†ä¿æŒä¸è®Š) ...

            // 1. æ¸²æŸ“å°è¦½åˆ—ï¼šç™»å‡º + æœƒå“¡ä¸­å¿ƒ
            headerNavRight.innerHTML = `
                <a href="javascript:void(0)" id="signOutLink" class="text-white hover:text-vieshow-gold transition duration-300">ç™»å‡º</a>
                <a href="${MEMBER_HOME_URL}" class="text-white hover:text-vieshow-gold transition duration-300">æœƒå“¡ä¸­å¿ƒ</a>
            `; // æ³¨æ„ï¼šæˆ‘åŒæ™‚åŠ å…¥äº† text-white é¡åˆ¥ï¼Œä»¥ä¿®æ­£ä¸Šæ¬¡çš„è·‘ç‰ˆå•é¡Œ

            // 2. æ¸²æŸ“è‹±é›„å€ (ä¿æŒä¸è®Š)
            heroSection.innerHTML = `
                <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 mb-2">
                    ğŸ¬ Vieshow ç·šä¸Šè¨‚ç¥¨ç³»çµ±
                </h1>
                <p class="text-lg text-gray-600 mb-6">æ‚¨å·²ç™»å…¥ï¼æœ€æ–°çš„ç†±é–€é›»å½±æ­£åœ¨ç†±æ˜ ä¸­ï¼Œç«‹å³è¨‚ç¥¨äº«å„ªæƒ ã€‚</p>
            `;
            
            // 3. ç¶å®šç™»å‡ºäº‹ä»¶ (ç¢ºä¿é€™è¡Œåœ¨å…ƒç´ è¢«æ¸²æŸ“å¾ŒåŸ·è¡Œ)
            // ğŸš¨ æ³¨æ„ï¼šæ‚¨åŸå…ˆçš„ç¨‹å¼ç¢¼ä¸­ï¼Œé€™è¡Œè¢«è¨»è§£æ‰äº†ï¼Œæˆ–è€…æ²’æœ‰æ­£ç¢ºç¶å®šã€‚
            // å¿…é ˆç¢ºä¿å…ˆæ¸²æŸ“ <a id="signOutLink">ï¼Œæ‰èƒ½ç¶å®šäº‹ä»¶ã€‚
            const signOutLinkElement = document.getElementById('signOutLink');
            if (signOutLinkElement) {
                signOutLinkElement.addEventListener('click', handleSignOut);
            }
        }

        /**
         * è™•ç†ç™»å‡ºé‚è¼¯ (èˆ‡æœƒå“¡ä¸­å¿ƒé é¢ä¸­çš„é‚è¼¯ç›¸åŒ)
         */
        function handleSignOut(e) {
            e.preventDefault();

            // 1. æ¸…é™¤ç™»å…¥ç‹€æ…‹çš„é—œéµæ­¥é©Ÿ
            localStorage.removeItem('auth_token');

            // 2. é¡¯ç¤ºç™»å‡ºè¨Šæ¯
            alert('æ‚¨å·²æˆåŠŸç™»å‡ºã€‚å³å°‡é‡æ–°æ•´ç†é é¢...'); 

            // 3.ç”±æ–¼ç™»å‡ºæ˜¯åœ¨é¦–é é€²è¡Œï¼Œä¸éœ€è¦è·³è½‰ï¼Œç›´æ¥åˆ‡æ› UI ç‹€æ…‹å³å¯ã€‚

            // 4. é‡æ–°æ¸²æŸ“é é¢è‡³æœªç™»å…¥ç‹€æ…‹
            renderUI();
            
            // ç”±æ–¼ç™»å‡ºæ˜¯åœ¨é¦–é é€²è¡Œï¼Œä¸éœ€è¦è·³è½‰ï¼Œç›´æ¥åˆ‡æ› UI ç‹€æ…‹å³å¯ã€‚
        }

        /**
         * æª¢æŸ¥ç™»å…¥ç‹€æ…‹ä¸¦æ¸²æŸ“ UI
         */
        function renderUI() {
            // æ¨¡æ“¬ï¼šå¦‚æœ localStorage ä¸­æœ‰ 'auth_token' å‰‡è¦–ç‚ºå·²ç™»å…¥
            const token = localStorage.getItem('auth_token');
            if (token) {
                renderLoggedInState();
            } else {
                renderLoggedOutState();
            }
        }
        
        /**
         * å¡«å……é›»å½±ä¸‹æ‹‰é¸å–®
         */
        function populateMovieSelect(movies) {
            const select = document.getElementById('movie-select');
            if (!select) return;

            const options = movies.map(movie => 
                `<option value="${movie.id}">${movie.name}</option>`
            ).join('');
            
            select.innerHTML += options;
        }

        /**
         * æ¸²æŸ“é›»å½±åˆ—è¡¨ (åŸå§‹å‡½æ•¸å·²é‚„åŸ)
         */
        function renderMovieList(movies, containerId, showRatingAndBooking) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const html = movies.map(movie => {
                // ç†±æ˜ ä¸­æ‰é¡¯ç¤ºè©•åˆ†å’Œè¨‚ç¥¨æŒ‰éˆ•
                const ratingHtml = showRatingAndBooking ? `
                    <span class="flex items-center font-semibold text-vieshow-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.817 2.045a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.817-2.045a1 1 0 00-1.175 0l-2.817 2.045c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.02 8.729c-.783-.57-.381-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        ${movie.rating.toFixed(1)}
                    </span>
                ` : `<span class="text-sm font-semibold text-gray-500">å°šç„¡è©•åˆ†</span>`;

                const bookingHtml = showRatingAndBooking ? `
                    <div class="mt-3">
                        <button onclick="event.preventDefault(); window.location.href='pages/booking/booking_flow_1.html?movie_id=${movie.id}'" 
                                class="w-full bg-vieshow-red text-white font-bold py-2 rounded-lg hover:bg-red-700 transition duration-300 text-sm">
                            ç«‹å³è¨‚ç¥¨
                        </button>
                    </div>
                ` : ``;

                return `
                    <div class="movie-poster-card block rounded-lg shadow-lg hover:shadow-2xl">
                        <a href="pages/movie/movie_info.html?movie_id=${movie.id}">
                            <div class="poster-container rounded-t-lg">
                                <img src="${movie.posterUrl}" 
                                            alt="${movie.name} æµ·å ±" 
                                            onerror="this.onerror=null; this.src='https://placehold.co/400x600/9ca3af/ffffff?text=No+Poster';"
                                            class="rounded-t-lg">
                            </div>
                            
                            <div class="p-3">
                                <h3 class="text-lg font-bold text-gray-900 truncate mb-1" title="${movie.name}">
                                    ${movie.name}
                                </h3>
                                
                                <div class="flex justify-between items-center text-sm text-gray-500">
                                    ${ratingHtml}
                                    <span class="text-xs ${showRatingAndBooking ? '' : 'ml-auto font-bold text-gray-800'}">
                                        ${movie.releaseDate.substring(5)} ä¸Šæ˜ 
                                    </span>
                                </div>
                            </div>
                        </a>
                        ${bookingHtml}
                    </div>
                `;
            }).join('');

            container.innerHTML = html;
        }
        const API_BASE_URL = 'https://marcoleung052-vieshow-backend.hf.space/api'; // è«‹æ›¿æ›
        // é é¢è¼‰å…¥æ™‚åŸ·è¡Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // --- ç‹€æ…‹å’Œ UI æ¸²æŸ“ ---
            renderUI();
            
            // --- é›»å½±åˆ—è¡¨æ¸²æŸ“ ---
            try {
                // 1. æŠ“å–ã€Œç†±æ˜ ä¸­ã€é›»å½±
                const resNow = await fetch(`${API_BASE_URL}/movie/now-playing`);
                const nowPlayingMovies = await resNow.json();
                renderMovieList(nowPlayingMovies, 'nowPlayingContainer', true);
                
                // æ›´æ–°ä¸‹æ‹‰é¸å–® (ä½¿ç”¨ç†±æ˜ é›»å½±)
                populateMovieSelect(nowPlayingMovies);
        
                // 2. æŠ“å–ã€Œå³å°‡ä¸Šæ˜ ã€é›»å½±
                const resSoon = await fetch(`${API_BASE_URL}/movie/coming-soon`);
                const comingSoonMovies = await resSoon.json();
                renderMovieList(comingSoonMovies, 'comingSoonContainer', false);
        
            } catch (e) {
                console.error("è¼‰å…¥é›»å½±è³‡æ–™å¤±æ•—:", e);
                // å¯ä»¥é¡¯ç¤ºä¸€å€‹éŒ¯èª¤æç¤ºçµ¦ä½¿ç”¨è€…
            }
        });

        function alert(message, callback) {
            const existingModal = document.getElementById('custom-alert-modal');
            if (existingModal) existingModal.remove();

            // è™•ç†é»æ“Šã€Œç¢ºèªã€çš„é‚è¼¯
            const handleConfirm = () => {
                document.getElementById('custom-alert-modal').remove();
                if (callback && typeof callback === 'function') {
                    // **åªæœ‰åœ¨ç”¨æˆ¶é»æ“Šç¢ºèªå¾Œï¼Œæ‰åŸ·è¡Œå‚³å…¥çš„ callback å‡½æ•¸ (ä¾‹å¦‚ç™»å‡ºå¾Œçš„è·³è½‰)**
                    callback(); 
                }
            };
            
            // å°‡ handleConfirm å‡½æ•¸è¨»å†Šåˆ°å…¨åŸŸï¼Œä»¥ä¾¿åœ¨ HTML onclick ä¸­ä½¿ç”¨
            window.customAlertConfirm = handleConfirm;

            const modalHtml = `
                <div id="custom-alert-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50">
                    <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm transform scale-100 transition-all duration-300">
                        <div class="text-xl font-bold text-gray-900 mb-3 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-vieshow-red mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                            </svg>
                            ç³»çµ±æç¤º
                        </div>
                        <p class="text-gray-700 mb-5">${message}</p>
                        <div class="flex justify-end">
                            <button onclick="window.customAlertConfirm()" 
                                    class="bg-vieshow-red hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-vieshow-red focus:ring-offset-2">
                                ç¢ºèª
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }
    </script>
</body>
</html>

